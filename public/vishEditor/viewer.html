<!DOCTYPE html>
<html>
    <head>
    <title>Vish Viewer</title>
    
    <meta charset="UTF-8">  
  	<meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/vishEditor/js/libs/jquery-1.7.2.min.js"><\/script>')</script>
    <script type="text/javascript" src="/vishEditor/js/libs/jquery-ui-1.9.2.custom.min.js"></script>
    <script type="text/javascript" src="/vishEditor/js/libs/jquery.fancybox-1.3.4.js"></script>
    <script type="text/javascript" src="/vishEditor/js/libs/jquery.qrcode.min.js"></script>
    <script type="text/javascript" src="/vishEditor/js/libs/yt_iframe_api.js"></script>
    <script type="text/javascript" src="/vishEditor/js/libs/RegaddiChart.js"></script>
    
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/styles.css"/>
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/pack1templates.css"/>
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/jquery.fancybox-1.3.4.css"/>
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/quiz.css">
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/customPlayer.css"/>
    <link rel="stylesheet" type="text/css" href="/vishEditor/stylesheets/all/jquery-ui-1.9.2.custom.css">

    <script type="text/javascript" src="/vishEditor/configuration/configuration.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Constant.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Samples.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Samples.API.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Configuration.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.User.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Storage.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Object.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Renderer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Renderer.Filter.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Debugging.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Presentation.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.VideoPlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.VideoPlayer.CustomPlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.VideoPlayer.HTML5.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.VideoPlayer.Youtube.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.ImagePlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.ObjectPlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.SnapshotPlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.AppletPlayer.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.SlideManager.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Utils.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Status.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Status.Device.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Status.Device.Browser.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Status.Device.Features.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.ViewerAdapter.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Text.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Recommendations.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Game.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Flashcard.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.VirtualTour.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Themes.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Messenger.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Messenger.Helper.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Addons.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Addons.IframeMessenger.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Utils.Loader.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Slides.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Events.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Events.Mobile.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.EventsNotifier.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Quiz.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Quiz.MC.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Quiz.TF.js"></script>
    <script type="text/javascript" src="/vishEditor/js/VISH.Quiz.API.js"></script>
    
    <!-- load google visualization libraries -->
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
     google.load('visualization', '1.0', {'packages':['corechart']});
    </script>
  </head>
  
  <body onload="start()" style="display: none" class="loaded" id="presentation_iframe">
<button id="vishwatermark" class="watermark" tabindex="2"></button>
    <section class="slides layout-regular template-default"></section>
        <button id="back_arrow" class="vish_arrow" style="display:none" tabindex="2"><</button>
    <button id="forward_arrow" class="vish_arrow" style="display:none" tabindex="2">></button>

    <button id="page-fullscreen" class="fullscreen" type="submit" style="border: none; background-color: transparent; display: none;" tabindex="2"></button>

    <div id="viewbar" class="viewbar" style="display:none">  
		<button id="page-switcher-start" class="page-switcher" tabindex="2"></button>
	    <div id="slide-counter"></div>
	    <button id="page-switcher-end" class="page-switcher" tabindex="2" ></button>
    </div> 

    <div style="display:none" id="viewerpreview">Preview</div>
    <div style="display:none" id="embedWatermarkWrapper">
    </div>
    <button id="closeButton" style="display:none" ><img id="closeButtonImg" src="/vishEditor/images/icons/back_icon.png"/></button>
    
    <!-- Hidden link to open fancybox to display recommendations in the end -->
    <a id="fancyRec" href="#fancy_recommendations" style="display: none;"></a>

    <!-- Recommendations fancybox -->
    <div style='display:none'>
        <div id='fancy_recommendations'>
            <div class="rec-first-row" style="display:none">
                <span class="textintro1" i18n-key="i.evaluateTitle">Want to contribute evaluating the excursion?</span>
                <button id='evaluate_excursion' submit='disable' class='button' i18n-key="i.evaluate">Evaluate</button>
            </div>
            <div class="rec-second-row">
                <span class="textintro1" i18n-key="i.recommendationsTitle">Recommended excursions for you:</span>
                <div class="rec-grid">
                </div>
            </div>
        </div>
    </div>


    <!-- Quizzes -->

    <!-- Hidden link to open fancybox when start a quiz session inside a slide  -->
    <a id="addQuizSessionFancybox" href="#start_quiz_fancybox" style="display: none;"></a>
    
    <!-- Quiz session fancybox (new)-->
    <div style='display:none'>
        <div id="start_quiz_fancybox" class="outer_box">
            <div class="fancy_tabs" id="images_fancy_tabs_id">     
                <ul>
                    <li><a href="#" id="tab_quiz_session" onclick="VISH.Quiz.loadTab('tab_quiz_session')" class="fancy_tab tabbable">Quiz Session</a></li>
                    <li><a href="#" id="tab_quiz_stats" onclick="VISH.Quiz.loadTab('tab_quiz_stats')"class="fancy_tab">Stats</a></li>
                </ul>
                <img class='help_in_fancybox' id='tab_quiz_session_help' src='/vishEditor/images/icons/helptutorial_circle_blank.png'/>
                <img class='help_in_fancybox' id='tab_quiz_stats_help' src='/vishEditor/images/icons/helptutorial_circle_blank.png'/>
            </div>
            <div id='tab_quiz_session_content' class="tab_quiz_session_content fancy_tab_content">
                <a target="_blank" id='tab_quiz_session_url_link'></a>
                <input type='button' class='quizButton quizStopButton' value='Stop'/>
            </div>
            <div id='tab_quiz_stats_content' class="fancy_tab_content">
                <canvas id="quiz_chart" width="400" height="400"></canvas>
            </div>
        </div>
    </div>

    <!-- PROMPT WHEN TRY TO LAUNCH TWO QUIZZES AT THE SAME TIME-->
    <div style='display:none'>
        <div id='prompt1_alert'>
            <div class="prompt_text_container">
                <span class="prompt_text">Please stop all quizzes before launch another one.</span>
            </div>
            <div>
                <a href="#" onclick="$.fancybox.close();" class="prompt_button">accept</a>
            </div>
        </div>
    </div>


    <script>
        function start(){
            var isPreview = false;
            var parentSameDomain = false;
            try{
                isPreview = 
                (window.parent.VISH)                                                        &&
                (window.parent.VISH.Editor)                                                 &&
                (typeof window.parent.VISH.Editor.Preview.getPreview == "function")         &&
                (typeof window.parent.VISH.Editor.Preview.getPreview() != "undefined");
                parentSameDomain = true;
            } catch(exception){
                isPreview = false;
                parentSameDomain = false;
            }

            if(isPreview){
                //called to show a preview
                getOptions();
                options["preview"] = true;
                VISH.SlideManager.init(options, window.parent.VISH.Editor.Preview.getPreview());
            } else if(parentSameDomain && window.parent.options){
                //called from web server to show a presentation
                VISH.SlideManager.init(window.parent.options, window.parent.presentation);
            } else {
                //Developping
                getOptions();
                VISH.SlideManager.init(options);
            }
        }
    </script>
</body>
</html>
